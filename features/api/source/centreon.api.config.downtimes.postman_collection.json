{
  "info": {
    "name": "Configure downtimes",
    "_postman_id": "5abba33eb3d3a",
    "description": "Configure downtimes",
    "schema": "https:\/\/schema.getpostman.com\/json\/collection\/v2.1.0\/collection.json"
  },
  "item": [{
    "name": "Add downtime",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action"
        }, {
          "key": "object",
          "value": "centreon_clapi"
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "description": "",
        "key": "Content-Type",
        "value": "application\/json"
      }, {
        "description": "",
        "key": "centreon-auth-token",
        "value": "{{token}}"
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"add\",\n  \"object\": \"downtime\",\n  \"values\": \"downtime_test;descritpion_test\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Setparam name",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action"
        }, {
          "key": "object",
          "value": "centreon_clapi"
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "description": "",
        "key": "Content-Type",
        "value": "application\/json"
      }, {
        "description": "",
        "key": "centreon-auth-token",
        "value": "{{token}}"
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"setparam\",\n  \"object\": \"downtime\",\n  \"values\": \"downtime_test;name;{{downtime_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Setparam description",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action"
        }, {
          "key": "object",
          "value": "centreon_clapi"
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "description": "",
        "key": "Content-Type",
        "value": "application\/json"
      }, {
        "description": "",
        "key": "centreon-auth-token",
        "value": "{{token}}"
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"setparam\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};description;{{downtime_description}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "List downtimes",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;",
          "",
          "var contentType = postman.getResponseHeader(\"Content-Type\");",
          "tests[\"Content-Type is application\/json\"] = contentType === \"application\/json\";",
          "",
          "var jsonData = JSON.parse(responseBody);",
          "var result= jsonData.result;",
          "",
          "var schema = {",
          "    \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\",",
          "    \"type\": \"array\",",
          "    \"items\": {",
          "        \"type\": \"object\",",
          "        \"properties\": {",
          "            \"id\": { \"type\": \"string\" },",
          "            \"name\": { \"type\": \"string\" },",
          "            \"description\": { \"type\": \"string\" },",
          "            \"activate\": { \"type\": \"string\" }",
          "        },",
          "        \"additionalProperties\": false,",
          "        \"required \": [\"id \", \"name \", \"description\", \"activate\"]",
          "    }",
          "};",
          "",
          "tests[\"Validate schema\"] = tv4.validate(result, schema);",
          "",
          "try {",
          "    tests[\"Body contains list of downtimes\"] = result;",
          "    var i = 0;",
          "    while (i < result.length) {",
          "        if (postman.getEnvironmentVariable(\"downtime_name\") == result[i].name){",
          "            tests[\"Body contains added downtime_name\"] = postman.getEnvironmentVariable(\"downtime_name\") == result[i].name;",
          "            tests[\"Body contains added downtime_description\"] = postman.getEnvironmentVariable(\"downtime_description\") == result[i].description;",
          "            break;",
          "        }",
          "        i++;",
          "    }",
          "    if (i == engineData.length)",
          "        tests[\"enine_name was found\"] = false;",
          "}",
          "catch (e) {}",
          ""]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"show\",\n  \"object\": \"downtime\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "List downtimes resources",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;",
          "",
          "var contentType = postman.getResponseHeader(\"Content-Type\");",
          "tests[\"Content-Type is application\/json\"] = contentType === \"application\/json\";",
          "",
          "var jsonData = JSON.parse(responseBody);",
          "var result= jsonData.result;",
          "",
          "var schema = {",
          "    \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\",",
          "    \"type\": \"array\",",
          "    \"items\": {",
          "        \"type\": \"object\",",
          "        \"properties\": {",
          "            \"id\": { \"type\": \"string\" },",
          "            \"name\": { \"type\": \"string\" },",
          "            \"description\": { \"type\": \"string\" },",
          "            \"activate\": { \"type\": \"string\" },",
          "            \"hosts\": {},",
          "            \"host groups\": {},",
          "            \"services\": {},",
          "            \"service groups\": {}",
          "        },",
          "        \"additionalProperties\": false,",
          "        \"required \": [\"id \", \"name \", \"description\", \"activate\", \"hosts\", \"host groups\", \"services\", \"service groups\"]",
          "    }",
          "};",
          "",
          "tests[\"Validate schema\"] = tv4.validate(result, schema);",
          "",
          "try {",
          "    tests[\"Body contains list of downtimes\"] = result;",
          "    var i = 0;",
          "    while (i < result.length) {",
          "        if (postman.getEnvironmentVariable(\"downtime_name\") == result[i].name){",
          "            tests[\"Body contains added downtime_name\"] = postman.getEnvironmentVariable(\"downtime_name\") == result[i].name;",
          "            tests[\"Body contains added downtime_description\"] = postman.getEnvironmentVariable(\"downtime_description\") == result[i].description;",
          "            break;",
          "        }",
          "        i++;",
          "    }",
          "    if (i == engineData.length)",
          "        tests[\"enine_name was found\"] = false;",
          "}",
          "catch (e) {}",
          ""]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"show\",\n  \"object\": \"downtime\",\n  \"values\" : \"{{downtime_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "List downtimes resource",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;",
          "",
          "var contentType = postman.getResponseHeader(\"Content-Type\");",
          "tests[\"Content-Type is application\/json\"] = contentType === \"application\/json\";",
          "",
          "var jsonData = JSON.parse(responseBody);",
          "var result= jsonData.result;",
          "", "var schema = {",
          "    \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\",",
          "    \"type\": \"array\",",
          "    \"items\": {",
          "        \"type\": \"object\",",
          "        \"properties\": {",
          "            \"id\": { \"type\": \"string\" },",
          "            \"name\": { \"type\": \"string\" },",
          "            \"description\": { \"type\": \"string\" },",
          "            \"activate\": { \"type\": \"string\" },",
          "            \"hosts\": {}",
          "        },",
          "        \"additionalProperties\": false,",
          "        \"required \": [\"id \", \"name \", \"description\", \"activate\", \"hosts\", \"host groups\", \"services\", \"service groups\"]",
          "    }",
          "};",
          "",
          "tests[\"Validate schema\"] = tv4.validate(result, schema);",
          "",
          "try {",
          "    tests[\"Body contains list of downtimes\"] = result;",
          "    var i = 0;",
          "    while (i < result.length) {",
          "        if (postman.getEnvironmentVariable(\"downtime_name\") == result[i].name){",
          "            tests[\"Body contains added downtime_name\"] = postman.getEnvironmentVariable(\"downtime_name\") == result[i].name;",
          "            tests[\"Body contains added downtime_description\"] = postman.getEnvironmentVariable(\"downtime_description\") == result[i].description;",
          "            break;",
          "        }",
          "        i++;",
          "    }",
          "    if (i == engineData.length)",
          "        tests[\"enine_name was found\"] = false;",
          "}",
          "catch (e) {}",
          ""]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"show\",\n  \"object\": \"downtime\",\n  \"values\" : \"{{downtime_name}};host\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Addweeklyperiod",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;",
          "",
          "var contentType = postman.getResponseHeader(\"Content-Type\");",
          "tests[\"Content-Type is application\/json\"] = contentType === \"application\/json\";",
          "",
          "var jsonData = JSON.parse(responseBody);",
          "var result= jsonData.result;",
          "",
          "var schema = {",
          "    \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\",",
          "    \"type\": \"array\",",
          "    \"items\": {",
          "        \"type\": \"object\",",
          "        \"properties\": {",
          "            \"id\": { \"type\": \"string\" },",
          "            \"name\": { \"type\": \"string\" },",
          "            \"description\": { \"type\": \"string\" },",
          "            \"activate\": { \"type\": \"string\" },",
          "            \"hosts\": {},",
          "            \"host groups\": {},",
          "            \"services\": {},",
          "            \"service groups\": {}",
          "        },",
          "        \"additionalProperties\": false,",
          "        \"required \": [\"id \", \"name \", \"description\", \"activate\", \"hosts\", \"host groups\", \"services\", \"service groups\"]",
          "    }",
          "};",
          "",
          "tests[\"Validate schema\"] = tv4.validate(result, schema);",
          "",
          "try {",
          "    tests[\"Body contains list of downtimes\"] = result;",
          "    var i = 0;",
          "    while (i < result.length) {",
          "        if (postman.getEnvironmentVariable(\"downtime_name\") == result[i].name){",
          "            tests[\"Body contains added downtime_name\"] = postman.getEnvironmentVariable(\"downtime_name\") == result[i].name;",
          "            tests[\"Body contains added downtime_description\"] = postman.getEnvironmentVariable(\"downtime_description\") == result[i].description;",
          "            break;",
          "        }",
          "        i++;",
          "    }",
          "    if (i == engineData.length)",
          "        tests[\"enine_name was found\"] = false;",
          "}",
          "catch (e) {}",
          ""]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"show\",\n  \"object\": \"downtime\",\n  \"values\" : \"{{downtime_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "List downtimes resource",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;",
          "",
          "var contentType = postman.getResponseHeader(\"Content-Type\");",
          "tests[\"Content-Type is application\/json\"] = contentType === \"application\/json\";",
          "",
          "var jsonData = JSON.parse(responseBody);",
          "var result= jsonData.result;",
          "",
          "var schema = {",
          "    \"$schema\": \"http:\/\/json-schema.org\/draft-04\/schema#\",",
          "    \"type\": \"array\",",
          "    \"items\": {",
          "        \"type\": \"object\",",
          "        \"properties\": {",
          "            \"id\": { \"type\": \"string\" },",
          "            \"name\": { \"type\": \"string\" },",
          "            \"description\": { \"type\": \"string\" },",
          "            \"activate\": { \"type\": \"string\" },",
          "            \"hosts\": {}",
          "        },",
          "        \"additionalProperties\": false,",
          "        \"required \": [\"id \", \"name \", \"description\", \"activate\", \"hosts\", \"host groups\", \"services\", \"service groups\"]",
          "    }",
          "};",
          "",
          "tests[\"Validate schema\"] = tv4.validate(result, schema);",
          "",
          "try {",
          "    tests[\"Body contains list of downtimes\"] = result;",
          "    var i = 0;",
          "    while (i < result.length) {",
          "        if (postman.getEnvironmentVariable(\"downtime_name\") == result[i].name){",
          "            tests[\"Body contains added downtime_name\"] = postman.getEnvironmentVariable(\"downtime_name\") == result[i].name;",
          "            tests[\"Body contains added downtime_description\"] = postman.getEnvironmentVariable(\"downtime_description\") == result[i].description;",
          "            break;",
          "        }",
          "        i++;",
          "    }",
          "    if (i == engineData.length)",
          "        tests[\"enine_name was found\"] = false;",
          "}",
          "catch (e) {}",
          ""]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"show\",\n  \"object\": \"downtime\",\n  \"values\" : \"{{downtime_name}};host\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Addweeklyperiod",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action"
        }, {
          "key": "object",
          "value": "centreon_clapi"
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "description": "",
        "key": "Content-Type",
        "value": "application\/json"
      }, {
        "description": "",
        "key": "centreon-auth-token",
        "value": "{{token}}"
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"addweeklyperiod\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{weekly_start_time}};{{weekly_end_time}};{{weekly_fixed}};{{weekly_duration}};{{weekly_day_of_week}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Addmonthlyperiod",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action"
        }, {
          "key": "object",
          "value": "centreon_clapi"
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "description": "",
        "key": "Content-Type",
        "value": "application\/json"
      }, {
        "description": "",
        "key": "centreon-auth-token",
        "value": "{{token}}"
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"addmonthlyperiod\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{monthly_start_time}};{{monthly_end_time}};{{monthly_fixed}};{{monthly_duration}};{{monthly_day_of_month}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Addspecificperiod",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action"
        }, {
          "key": "object",
          "value": "centreon_clapi"
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "description": "",
        "key": "Content-Type",
        "value": "application\/json"
      }, {
        "description": "",
        "key": "centreon-auth-token",
        "value": "{{token}}"
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"addspecificperiod\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{specific_start}};{{specific_end}};{{specific_fixed}};{{specific_duration}};{{specific_day_of_week}};{{specific_month_cycle}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "List periods",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["var jsonData = JSON.parse(responseBody);",
          "var downtimeData = jsonData.result;",
          "",
          "try {",
          "    tests[\"Body contains list of downtimes\"] = downtimeData;",
          "    var test_start_w = postman.getEnvironmentVariable(\"weekly_start_time\") + ':00';",
          "    var test_start_m = postman.getEnvironmentVariable(\"monthly_start_time\") + ':00';",
          "    var test_start_s = postman.getEnvironmentVariable(\"specific_start\") + ':00';",
          "    for (var i = 0; i < downtimeData.length; i++) {",
          "        if (test_start_w == downtimeData[i]['start time'])",
          "        {",
          "            tests[\"Body contains added weekly_start_time\"] = test_start_w == downtimeData[i]['start time'];",
          "            var test_end = postman.getEnvironmentVariable(\"weekly_end_time\") + ':00';",
          "            tests[\"Body contains added weekly_end_time\"] = test_end == downtimeData[i]['end time'];",
          "            tests[\"Body contains added weekly_fixed\"] = postman.getEnvironmentVariable(\"weekly_fixed\") == downtimeData[i].fixed;",
          "            if (downtimeData[i].fixed == \"0\")",
          "                tests[\"Body contains added weekly_duration\"] = postman.getEnvironmentVariable(\"weekly_duration\") == downtimeData[i].duration;",
          "            tests[\"Body contains added weekly_day_of_week\"] = postman.getEnvironmentVariable(\"weekly_number_days_of_week\") == downtimeData[i]['day of week'];",
          "        }",
          "        if (test_start_m == downtimeData[i]['start time'])",
          "        {", "            tests[\"Body contains added monthly_start_time\"] = test_start_m == downtimeData[1]['start time'];",
          "            var test_end = postman.getEnvironmentVariable(\"monthly_end_time\") + ':00';",
          "            tests[\"Body contains added monthly_end_time\"] = test_end == downtimeData[i]['end time'];",
          "            tests[\"Body contains added monthly_fixed\"] = postman.getEnvironmentVariable(\"monthly_fixed\") == downtimeData[i].fixed;",
          "            if (downtimeData[i].fixed == \"0\")",
          "                tests[\"Body contains added monthly_duration\"] = postman.getEnvironmentVariable(\"monthly_duration\") == downtimeData[i].duration;",
          "            tests[\"Body contains added monthly_day_of_month\"] = postman.getEnvironmentVariable(\"monthly_day_of_month\") == downtimeData[i]['day of month'];",
          "        }",
          "        if (test_start_s == downtimeData[i]['start time'])",
          "        {",
          "            tests[\"Body contains added specific_start_time\"] = test_start_s == downtimeData[i]['start time'];",
          "            var test_end = postman.getEnvironmentVariable(\"specific_end\") + ':00';",
          "            tests[\"Body contains added specific_end_time\"] = test_end == downtimeData[i]['end time'];",
          "            tests[\"Body contains added specific_fixed\"] = postman.getEnvironmentVariable(\"specific_fixed\") == downtimeData[i].fixed;",
          "            if (downtimeData[i].fixed == \"0\")",
          "                tests[\"Body contains added specific_duration\"] = postman.getEnvironmentVariable(\"specific_duration\") == downtimeData[i].duration;",
          "            tests[\"Body contains added specific_day_of_week\"] = postman.getEnvironmentVariable(\"specific_number_day_of_week\") == downtimeData[i]['day of week'];",
          "        }",
          "    }",
          "}",
          "catch (e) {}",
          "",
          "tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action"
        }, {
          "key": "object",
          "value": "centreon_clapi"
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "description": "",
        "key": "Content-Type",
        "value": "application\/json"
      }, {
        "description": "",
        "key": "centreon-auth-token",
        "value": "{{token}}"
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"listperiods\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Addhost",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"addhost\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{host_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Delhost",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"delhost\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{host_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Sethost",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"sethost\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{host_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Addhostgroup",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"addhostgroup\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{hg_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Delhostgroup",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"delhostgroup\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{hg_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Sethostgroup",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"sethostgroup\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{hg_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Addservice",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"addservice\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{host_name}},{{service_description}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Delservice",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"delservice\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{host_name}},{{service_description}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Setservice",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"setservice\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{host_name}},{{service_description}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Addservicegroup",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"addservicegroup\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{sg_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Delservicegroup",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"delservicegroup\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{sg_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }, {
    "name": "Setservicegroup",
    "event": [{
      "listen": "test",
      "script": {
        "type": "text\/javascript",
        "exec": ["tests[\"Status code is 200\"] = responseCode.code === 200;"]
      }
    }],
    "request": {
      "url": {
        "raw": "http:\/\/{{url}}\/centreon\/api\/index.php?action=action&object=centreon_clapi",
        "protocol": "http",
        "host": ["{{url}}"],
        "path": ["centreon", "api", "index.php"],
        "query": [{
          "key": "action",
          "value": "action",
          "equals": true,
          "description": ""
        }, {
          "key": "object",
          "value": "centreon_clapi",
          "equals": true,
          "description": ""
        }],
        "variable": []
      },
      "method": "POST",
      "header": [{
        "key": "Content-Type",
        "value": "application\/json",
        "description": ""
      }, {
        "key": "centreon-auth-token",
        "value": "{{token}}",
        "description": ""
      }],
      "body": {
        "mode": "raw",
        "raw": "{\n  \"action\": \"setservicegroup\",\n  \"object\": \"downtime\",\n  \"values\": \"{{downtime_name}};{{sg_name}}\"\n}"
      },
      "description": ""
    },
    "response": []
  }]
}